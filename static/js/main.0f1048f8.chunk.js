(this["webpackJsonpuse-request-example"]=this["webpackJsonpuse-request-example"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){"use strict";n.r(t);var r=n(0),u=n.n(r),a=n(2),s=n.n(a),l=(n(12),n(4)),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)};var c,i=function(e,t,n){void 0===t&&(t=[]);var u=r.useRef(0),a=r.useRef({status:c.IDLE}),s=r.useState(a.current),l=s[0],i=s[1],d=function(e){a.current=e,i(e)},p=r.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return++u.current,d(o(o({},a.current),{status:c.PENDING})),new Promise((function(n){return n(e.apply(void 0,t))})).then((function(e){return d({status:--u.current?a.current.status:c.SUCCESS,value:e}),e}),(function(e){return--u.current||d({status:c.ERROR,error:e}),Promise.reject(e)}))}),t);return r.useEffect((function(){n&&p.apply(void 0,n)}),function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),u=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,l=a.length;s<l;s++,u++)r[u]=a[s];return r}([p],n||[])),o(o({},l),{reset:function(){return d({status:c.IDLE})},execute:p})};!function(e){e.IDLE="idle",e.PENDING="pending",e.SUCCESS="success",e.ERROR="error"}(c||(c={}));var d=function(e){return new Promise((function(t,n){e>0?setTimeout(t,2e3,Math.round(Math.random()*e)):setTimeout(n,2e3,"Max value must be greater than zero")}))},p=function(){var e=u.a.useState(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=i(d,[n],[n?+n:100]),s=a.value,o=a.error,c=a.status;return u.a.createElement("div",null,u.a.createElement("div",null,u.a.createElement("input",{type:"number",value:n,placeholder:100..toString(),onChange:function(e){return r(e.target.value)}}),"pending"===c?u.a.createElement("span",null," processing"):null),void 0!==s?u.a.createElement("div",null,"Last result: ",s):null,o?u.a.createElement("div",null,"Error: ",o):null)},m=n(1),f={lastId:2,resources:[{id:1,label:"First resource"},{id:2,label:"Second resource"}]},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3*Math.random();return new Promise((function(n){return setTimeout((function(){return n(e())}),t)}))},g={get:function(){return v((function(){return f.resources}))},post:function(e){return v((function(){var t=Object(m.a)(Object(m.a)({},e),{},{id:++f.lastId});return f.resources.push(t),t}))},put:function(e,t){return v((function(){if(f.resources.find((function(t){return t.id===e}))){var n=Object(m.a)(Object(m.a)({},t),{},{id:e});return f.resources=f.resources.map((function(t){return t.id===e?n:t})),n}}))},delete:function(e){return v((function(){var t=f.resources.length;return f.resources=f.resources.filter((function(t){return t.id!==e})),f.resources.length!==t}))}},E=function(){var e=i(g.get,[],[]),t=e.execute;return{resources:e.value,status:e.status,create:i((function(e){return g.post(e).then(t)})).execute,remove:i((function(e){return g.delete(e).then(t)})).execute}},h=function(){var e=Object(r.useRef)(null),t=E(),n=t.resources,a=t.status,s=t.create,l=t.remove;return u.a.createElement("div",null,u.a.createElement("form",{onSubmit:function(t){t.preventDefault(),s({label:e.current.value}),e.current.value=""}},u.a.createElement("input",{type:"text",ref:e,required:!0}),u.a.createElement("input",{type:"submit",value:"Add"})),n||"pending"!==a?null:u.a.createElement("p",null,"Loading..."),n?u.a.createElement("ol",null,n.map((function(e){return u.a.createElement("li",{key:e.id},e.label," ",u.a.createElement("input",{type:"button",onClick:function(){return l(e.id)},value:"remove"}))}))):null)},b=n(3),x={display:"flex",flexWrap:"wrap",padding:"2em",margin:"2em",border:"2px solid lightgray"},y={width:"100%",textAlign:"center"},R={flex:1},S={display:"flex",alignItems:"center",paddingLeft:"2em",borderLeft:"1px solid lightgray",width:"260px"},L={color:"#444"},q=function(e){var t=e.title,n=e.code,r=e.path,a=e.children;return u.a.createElement("div",{style:x},u.a.createElement("h2",{style:y},u.a.createElement("a",{href:"".concat("https://github.com/termosa/use-request/blob/master/example").concat(r),style:L},"Example: ",t)),u.a.createElement("pre",{style:R},n),u.a.createElement("div",{style:S},a))},O=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("h1",{style:y},"use-request@",b.a),u.a.createElement(q,{title:"Single Request",code:"const SingleFunctionExample = () => {\n  const [max, setMax] = React.useState('');\n\n  const { value, error, status } = useRequest(\n    generateNumber,           // Async function that returns promise\n    [max],                    // Dependencies\n    [max ? +max : defaultMax] // Initial arguments\n  );\n\n  return (\n    <div>\n      <div>\n        <input\n          type=\"number\"\n          value={max}\n          placeholder={defaultMax.toString()}\n          onChange={e => setMax(e.target.value)}\n        />\n        {status === 'pending' ? <span> processing</span> : null}\n      </div>\n      {value !== undefined ? <div>Last result: {value}</div> : null}\n      {error ? <div>Error: {error}</div> : null}\n    </div>\n  );\n};",path:"/src/SingleFunctionExample.js"},u.a.createElement(p,null)),u.a.createElement(q,{title:"Multiple Requests",code:'const useResources = () => {\n  const { execute: reload, value: resources, status } = useRequest(api.get, [], []);\n  const { execute: create } = useRequest(resource => api.post(resource).then(reload));\n  const { execute: remove } = useRequest(id => api.delete(id).then(reload));\n\n  return { resources, status, create, remove };\n};\n\nconst MultipleFunctionsExample = () => {\n  const resourceLabelRef = useRef(null);\n  const { resources, status, create, remove } = useResources();\n\n  const onSubmit = e => {\n    e.preventDefault();\n    create({ label: resourceLabelRef.current.value });\n    resourceLabelRef.current.value = \'\';\n  };\n\n  return (\n    <div>\n      <form onSubmit={onSubmit}>\n        <input type="text" ref={resourceLabelRef} required />\n        <input type="submit" value="Add" />\n      </form>\n\n      {!resources && status === \'pending\' ? <p>Loading...</p> : null}\n\n      {resources\n        ? <ol>\n          {resources.map(res => (\n            <li key={res.id}>\n              {res.label}\n              {\' \'}\n              <input type="button" onClick={() => remove(res.id)} value="remove" />\n            </li>\n          ))}\n        </ol>\n        : null\n      }\n    </div>\n  );\n};',path:"/src/MultipleFunctionsExample.js"},u.a.createElement(h,null)))};s.a.render(u.a.createElement(O,null),document.getElementById("root"))},3:function(e){e.exports=JSON.parse('{"a":"0.0.1"}')},5:function(e,t,n){e.exports=n(13)}},[[5,1,2]]]);
//# sourceMappingURL=main.0f1048f8.chunk.js.map